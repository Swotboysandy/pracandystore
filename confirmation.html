<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order Confirmation - Pracandy</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <header>
        <nav class="navbar">
            <div class="logo">
                <a href="index.html" style="text-decoration: none; color: inherit;">
                    <h1>Pracandy</h1>
                </a>
            </div>
            <div class="nav-links">
                <a href="index.html">Home</a>
                <a href="reviews.html">Reviews</a>
                <a href="faq.html">FAQs</a>
                <a href="cart.html" class="cart-link">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="cart-count">0</span>
                </a>
            </div>
        </nav>
    </header>

    <main>
        <div class="container">
            <div class="confirmation-container">
                <i class="fas fa-check-circle" style="font-size: 4rem; color: #27ae60;"></i>
                <h2>Thank You for Your Order!</h2>
                <p>Your order has been successfully placed.</p>
                <p>We'll send you an email confirmation with your order details.</p>
                <div class="order-details">
                    <h3>Order Summary</h3>
                    <div id="confirmation-items">
                        <!-- Order items will be dynamically inserted here -->
                    </div>
                    <div class="order-total">
                        Total Amount: ₹<span id="confirmation-total">0</span>
                    </div>
                    <div class="order-id-display">
                        Order ID: <strong id="confirmation-order-id"></strong>
                    </div>
                </div>
                <div class="delivery-info">
                    <h3>Delivery Information</h3>
                    <p>Your order will be delivered within 3-5 business days.</p>
                    <p>Payment Method: Cash on Delivery (COD)</p>
                </div>
                <div class="text-center mt-2">
                    <a href="index.html" class="btn btn-primary">Continue Shopping</a>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h4>About Pracandy</h4>
                <p>Your one-stop shop for trending gadgets and gift items at unbeatable prices.</p>
            </div>
            <div class="footer-section">
                <h4>Contact Us</h4>
                <p>Email: support@pracandy.com</p>
                <p>Phone: +91 1234567890</p>
            </div>
            <div class="footer-section">
                <h4>Payment Methods</h4>
                <p>Cash on Delivery (COD) Available</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 Pracandy. All rights reserved.</p>
        </div>
    </footer>

    <script src="js/cart.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const confirmationItems = document.getElementById('confirmation-items');
        const confirmationTotal = document.getElementById('confirmation-total');
        const confirmationOrderId = document.getElementById('confirmation-order-id');

        function displayOrderSummary() {
            confirmationItems.innerHTML = '';

            // Get order details from URL parameters
            const urlParams = new URLSearchParams(window.location.search);
            const orderId = urlParams.get('orderId');
            const orderDetails = urlParams.get('orderDetails');
            const total = urlParams.get('total');

            if (!orderId || !orderDetails || !total) {
                window.location.href = 'index.html';
                return;
            }

            // Display order details
            confirmationOrderId.textContent = orderId;
            confirmationTotal.textContent = total;

            try {
                // Parse and display order items
                const items = JSON.parse(decodeURIComponent(orderDetails));
                items.forEach(item => {
                    const orderItem = document.createElement('div');
                    orderItem.className = 'order-item';
                    orderItem.innerHTML = `
                        <div class="order-item-details">
                            <h4>${item.name}</h4>
                            <p>Quantity: ${item.quantity}</p>
                            <p>₹${item.price * item.quantity}</p>
                        </div>
                    `;
                    confirmationItems.appendChild(orderItem);
                });
            } catch (error) {
                console.error('Error parsing order details:', error);
                confirmationItems.innerHTML = '<p>Error loading order details</p>';
            }

            // Clear the cart after displaying order details
            cart.clearCart();
        }

        displayOrderSummary();
    });
    </script>
</body>
</html> 